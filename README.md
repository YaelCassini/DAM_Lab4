# DAM_Lab4
数字水印

1. 请将需要用到的载体图像和水印图像放置到 'static/images' 目录下。
2. 将文件夹作为python工程打开（请注意将工程文件移入没有中文的路径下，否则可能会运行失败），运行 “watermark.py” ，即可在控制台通过输入文件名来嵌入水印，注意请提前将需要用到的图像文件放入 'static/images' 目录下，在控制台只需输入文件名（包括扩展名）。
3. 运行后，'static/images' 目录下，会对应生成并存储对应的图像文件。带有后缀“_mark”的图像是嵌入的水印图像文件，带有后缀“_marked”的图像是已经嵌入水印的图像文件，带有后缀“_decode”的图像是从图像中提取出的水印图像文件。
4. 运行 “main.py” ，即可打开选择图像并嵌入水印的网页， 可以根据网页提示自行选择图像并进行水印嵌入，并展示效果。（请在'static/images' 目录下选择）


### 实验原理及实验过程

1. 嵌入水印原理:使用 Python Image Library 库，读入一张载体图像以及水印图像，首先使用 resize 函数将水印图像缩放成和载体图像一样的大小。之后将载体图像的像素和水印图像的像素点一一对应，将载体图像的像素值(类型为unsigned char，一共八位)抹去最后两位，将水印图像的像素值除以 85 作为最低两位，加入到载体图像的像素值中。
2. 提取水印原理:使用 PthonImageLibrary 库，读入一张已经嵌入水印的载体图像，对每一个像素点，提取出最后两位的数据，转化成 usigned char 类型并乘85，得到提取出的水印图像。
3. 制作水印嵌入网页交互:使用 fask 框架，编写 htl 网页，实现从网页选取载体图像以及水印图像,并且使用调用 python 文件的形式对图像进行嵌入水印、提取水印、比对水印操作，并将结果展示在网页中。
